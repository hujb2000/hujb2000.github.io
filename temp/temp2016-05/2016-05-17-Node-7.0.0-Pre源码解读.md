---
---
layout: post
title:  "Node-7.0.0-Pre源码解读"
date:   2016-05-17 13:35:30
categories: allen.hu update
---

# 源码解读

* ROADMAP.md

 v8-> nan ok -> minor
 v8-> nan failed ->ｍａｊｏｒ
 new features in the Javascript language are  introduced by v8, the minor will increased

 No new api  will be added in patch release
 Any API addition will cause an increase in the minor version

TC39 has stated clearly that no backbwards incompatable chagnes will be made to hte languages.

* node.gyp

* Makefile

* GOVERNANCE.md

* CONTRIBUTING.md

* configure

* config.mk
 Do not edit. Generated by the configure script.

* config.gypi
 Do not edit. Generated by the configure script.

* COLLABORATOR_GUILD.md

* CODE_OF_CONDUCT.md

* CHANGELOG.md

* BUILDING.md

* eslintrc

* eslintignore

benchmark ： 一些nodejs 性能测试 代码
build：编译nodejs 生成目录
Debug：编译nodejs 生成目录
Release：编译nodejs 生成目录
deps：nodejs依赖 的工具包，包括 v8、http_parser、opensslzlib、zlib、uv。。。
doc：文档
lib：包含JavaScript源码
src：包含C++源码
test：测试代码
tools：编译时用到的工具
这里我们只需关注 src 和lib 文件夹

# Node.js源码解读-Node.js的启动过程

入口文件在src/node_main.cc,
#include "node.h"
// UNIX
int main(int argc, char *argv[]) {
  setvbuf(stderr, NULL, _IOLBF, 1024);
  return node::Start(argc, argv);
}

* node.h
#include "v8.h"
#include "node_version.h" //定义了node的版本号，和NODE_MODULE_VERSION


node::Start函数定义在`src/node.cc`中，它进行了必要的初始化工作


#if HAVE_OPENSSL
#include "node_crypto.h"
#endif
